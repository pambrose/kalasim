
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Discrete event simulator with type support, dependency injection, modern persistence and logging to enable large-scale, industrial-ready simulations">
      
      
        <meta name="author" content="Holger Brandl">
      
      
        <link rel="canonical" href="https://www.kalasim.org/component/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.0">
    
    
      
        <title>Components - kalasim - discrete event simulator</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.82f3c0b9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.9204c3b2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
      <link rel="stylesheet" href="..">
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#component" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="kalasim - discrete event simulator" class="md-header__button md-logo" aria-label="kalasim - discrete event simulator" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            kalasim - discrete event simulator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Components
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/holgerbrandl/kalasim/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    holgerbrandl/kalasim
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        Home
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../basics/" class="md-tabs__link md-tabs__link--active">
        Basics
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../analysis/" class="md-tabs__link">
        Analysis
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../examples/" class="md-tabs__link">
        Examples
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../advanced/" class="md-tabs__link">
        Advanced
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../articles/articles/" class="md-tabs__link">
        Articles
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../about/" class="md-tabs__link">
        About
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="kalasim - discrete event simulator" class="md-nav__button md-logo" aria-label="kalasim - discrete event simulator" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    kalasim - discrete event simulator
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/holgerbrandl/kalasim/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    holgerbrandl/kalasim
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" data-md-state="indeterminate" type="checkbox" id="__nav_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_1">
          Home
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Home" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Home
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../theory/" class="md-nav__link">
        Theory
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../setup/" class="md-nav__link">
        Setup
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changes/" class="md-nav__link">
        What's New?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Basics" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../basics/" class="md-nav__link">
        Simulation Basics
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Components
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#process-definition" class="md-nav__link">
    Process Definition
  </a>
  
    <nav class="md-nav" aria-label="Process Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-extend-process" class="md-nav__link">
    1. Extend process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-extend-repeatedprocess" class="md-nav__link">
    2. Extend repeatedProcess
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-process-reference" class="md-nav__link">
    3. Process Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle" class="md-nav__link">
    Lifecycle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-interaction" class="md-nav__link">
    Process Interaction
  </a>
  
    <nav class="md-nav" aria-label="Process Interaction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activate" class="md-nav__link">
    activate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hold" class="md-nav__link">
    hold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passivate" class="md-nav__link">
    passivate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel" class="md-nav__link">
    cancel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standby" class="md-nav__link">
    standby
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request" class="md-nav__link">
    request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait" class="md-nav__link">
    wait
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interrupt" class="md-nav__link">
    interrupt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-of-process-interaction-methods-within-a-function-or-method" class="md-nav__link">
    Usage of process interaction methods within a function or method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-generator" class="md-nav__link">
    Component Generator
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../resource/" class="md-nav__link">
        Resources
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../state/" class="md-nav__link">
        States
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../collections/" class="md-nav__link">
        Collections
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Analysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Analysis" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../analysis/" class="md-nav__link">
        Analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../event_log/" class="md-nav__link">
        Event Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../monitors/" class="md-nav__link">
        Monitors
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../visualization/" class="md-nav__link">
        Visualization
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" data-md-state="indeterminate" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/car/" class="md-nav__link">
        Car
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/traffic/" class="md-nav__link">
        Traffic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/bank_office/" class="md-nav__link">
        Bank Office
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/movie_theater/" class="md-nav__link">
        Movie Theater
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/car_wash/" class="md-nav__link">
        Car Wash
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/atm_queue/" class="md-nav__link">
        ATM Queue
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/gas_station/" class="md-nav__link">
        Gas Station
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/bridge_game/" class="md-nav__link">
        Bridge Game
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/machine_parts/" class="md-nav__link">
        Machine Parts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/machine_shop/" class="md-nav__link">
        Machine Shop
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/dining_philosophers/" class="md-nav__link">
        Dining Philosophers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/office_tower/" class="md-nav__link">
        Office Tower
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/ferryman/" class="md-nav__link">
        The Ferryman
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../examples/emergency_room/" class="md-nav__link">
        Emergyency Room
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        Advanced
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Articles
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Articles" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Articles
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../articles/articles/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" data-md-state="indeterminate" type="checkbox" id="__nav_6_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_2">
          2021
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2021" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          2021
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../articles/2021-11-27-kalasim-v07/" class="md-nav__link">
        Kalasim v0.7
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" data-md-state="indeterminate" type="checkbox" id="__nav_6_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_3">
          2021
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="2021" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_3">
          <span class="md-nav__icon md-icon"></span>
          2021
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changes/#v06" class="md-nav__link">
        Kalasim v0:6
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" data-md-state="indeterminate" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          About
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="About" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          About
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../about/" class="md-nav__link">
        About
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#process-definition" class="md-nav__link">
    Process Definition
  </a>
  
    <nav class="md-nav" aria-label="Process Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-extend-process" class="md-nav__link">
    1. Extend process
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-extend-repeatedprocess" class="md-nav__link">
    2. Extend repeatedProcess
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-process-reference" class="md-nav__link">
    3. Process Reference
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lifecycle" class="md-nav__link">
    Lifecycle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-interaction" class="md-nav__link">
    Process Interaction
  </a>
  
    <nav class="md-nav" aria-label="Process Interaction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activate" class="md-nav__link">
    activate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hold" class="md-nav__link">
    hold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passivate" class="md-nav__link">
    passivate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancel" class="md-nav__link">
    cancel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standby" class="md-nav__link">
    standby
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#request" class="md-nav__link">
    request
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wait" class="md-nav__link">
    wait
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interrupt" class="md-nav__link">
    interrupt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-of-process-interaction-methods-within-a-function-or-method" class="md-nav__link">
    Usage of process interaction methods within a function or method
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#component-generator" class="md-nav__link">
    Component Generator
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/holgerbrandl/kalasim/tree/master/docs/userguide/docs/component.md" title="Edit this page" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="component">Component</h1>
<p>Components are the key elements of a simulation.</p>
<p>Components can be either  in <code>DATA</code> or an <code>ACTIVE</code> <a href="#lifecycle">lifecycle</a> state. An <code>ACTIVE</code>  component has one or more <a href="#process-definition">process definitions</a> of which one was activated at some point in time. </p>
<p>With <a href="#activate"><code>activate()</code></a> we can chang <code>DATA</code> components to <code>ACTIVE</code> if is has an associated process definition.</p>
<p>An <code>ACTIVE</code> component can become <code>DATA</code> either with a <a href="#cancel"><code>cancel()</code></a> or by reaching the end of a <a href="#process-definition">definition</a>.</p>
<p>It is very easy to create a <code>DATA</code> components</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span> <span class="nv">component</span> <span class="o">=</span> <span class="n">Component</span><span class="p">()</span>
</code></pre></div>
<p>Components will interact with each other through a well-defined vocabulary of <a href="#process-interaction">process interaction</a> methods.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>By default, Components will be named automatically, using the pattern <code>[Class Name].[Instance Number]</code> unless a custom name is provided via the <code>name</code> parameter in <code>Component(name="Foo")</code>.</p>
</div>
<h2 id="process-definition">Process Definition</h2>
<p>Although it is possible to create a component directly with <code>val x = Component()</code>, this
makes it very hard to make that component into an active component, because there's no process method. So, nearly always we define our simulation entities by extending <code>Component</code> and by providing a <em>process definition</em> which details out the component's life cycle:</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The process definition of a component defines its dynamics and interplay with other simulation entities. Writing down the process definition is the <strong>key</strong> modelling task when using <code>kalasim</code>.</p>
</div>
<p>If there is no process definition, a component will always be a <a href="#lifecycle">data</a> component.</p>
<p>There are 3 supported methods to provide a process definition.</p>
<h3 id="1-extend-process">1. Extend <code>process</code></h3>
<p>Let's start with the most common method. In order to make an <em>active</em>  component it is necessary to extend <code>Component</code> to provide (at least) one sequence generator method, normally called <code>process</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Car</span><span class="p">:</span> <span class="n">Component</span><span class="p">(){</span>
    <span class="kd">override</span> <span class="kd">fun</span> <span class="nf">process</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span> <span class="p">{</span>
        <span class="n">wait</span><span class="p">(</span><span class="n">customerArrived</span><span class="p">)</span>

        <span class="n">request</span><span class="p">(</span><span class="n">driver</span><span class="p">){</span>
            <span class="n">hold</span><span class="p">(</span><span class="m">4</span><span class="p">,</span> <span class="s">&quot;driving&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>If we then say <code>val car = Car()</code>, a component is created, and it activated from process. This process is nearly always, but not necessarily a <em>generator method</em>  (i.e. it has at least one <code>yield</code> statement).</p>
<p>The result is that car is put on the future <a href="../basics/#event-queue">event list</a> (for time <code>now</code>) and when it's its turn, the component becomes <code>CURRENT</code>.</p>
<p>It is also possible to set a time at which the component (car) becomes active, like <code>val car = Car(at=10)</code>. This requires an additional constructor argument to be passed on to <code>Component</code> as in <code>class Car(at:Number): Component(delay=at)</code>.</p>
<p>Creation and activation are by default combined when creating a new <code>Component</code> instance:</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span> <span class="nv">car1</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
<span class="kd">val</span> <span class="nv">car2</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
<span class="kd">val</span> <span class="nv">car3</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
</code></pre></div>
<p>This causes three cars to be created and to be <a href="./#activate">activated</a>, that is <em>scheduled</em> for execution in the simulation's <a href="../basics/#event-queue">event queue</a>.</p>
<p>Normally, any process definition will contain at least one <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence-scope/yield.html"><code>yield</code></a> statement. By doing so, the component can hand-back control to the simulation engine at defined points when a component needs to wait. Typically, the user must not use <code>yield</code> directly, but rather the provided <a href="#process-interaction">process interaction</a> methods.</p>
<h3 id="2-extend-repeatedprocess">2. Extend <code>repeatedProcess</code></h3>
<p>A very common pattern in process definition, iteratively executed processes. This could be modelled with </p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Machine</span> <span class="p">:</span> <span class="n">Component</span><span class="p">(){</span>
    <span class="kd">override</span> <span class="kd">fun</span> <span class="nf">process</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span> <span class="p">{</span>
        <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
          <span class="n">wait</span><span class="p">(</span><span class="n">hasMaterial</span><span class="p">)</span>
          <span class="n">hold</span><span class="p">(</span><span class="m">7</span><span class="p">,</span> <span class="s">&quot;drilling&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>This can be expressed more elegantly with <code>repeatedProcess</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span> <span class="nc">Machine</span> <span class="p">:</span> <span class="n">Component</span><span class="p">(){</span>
    <span class="kd">override</span> <span class="kd">fun</span> <span class="nf">repeatedProcess</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span> <span class="p">{</span>
        <span class="n">wait</span><span class="p">(</span><span class="n">hasMaterial</span><span class="p">)</span>
        <span class="n">hold</span><span class="p">(</span><span class="m">7</span><span class="p">,</span> <span class="s">&quot;drilling&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>Finally, if there is a <code>process</code> or <code>repeatedProcess</code> method, you can disable the automatic activation (i.e. make it a data component), by specifying <code>Component(process = Component::none)</code>.</p>
</div>
<h3 id="3-process-reference">3. Process Reference</h3>
<p>A component may be initialized to start at another process definition method. This is achieved by passing a reference to this method which must be part of the component's class definition, like <code>val car = Car(process = Car::wash)</code>.</p>
<p>It is also possible to prepare multiple process definition, which may become active later by means of an <code>activate()</code> statement:</p>
<div class="highlight"><pre><span></span><code><span class="c1">////CraneProcess.kts</span>
<span class="k">import</span> <span class="nn">org.kalasim.Component</span>
<span class="k">import</span> <span class="nn">org.kalasim.ProcessPointer</span>
<span class="k">import</span> <span class="nn">org.kalasim.createSimulation</span>

<span class="kd">class</span> <span class="nc">Crane</span><span class="p">(</span>
    <span class="n">process</span><span class="p">:</span> <span class="n">ProcessPointer? </span><span class="o">=</span> <span class="n">Component</span><span class="o">::</span><span class="n">process</span>
<span class="p">)</span> <span class="p">:</span> <span class="n">Component</span><span class="p">(</span><span class="n">process</span> <span class="o">=</span> <span class="n">Crane</span><span class="o">::</span><span class="n">load</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">fun</span> <span class="nf">unload</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="c1">// hold, request, wait ...</span>
    <span class="p">}</span>

    <span class="kd">fun</span> <span class="nf">load</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="c1">// hold, request, wait ...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">createSimulation</span> <span class="p">{</span>
    <span class="kd">val</span> <span class="nv">crane1</span> <span class="o">=</span> <span class="n">Crane</span><span class="p">()</span> <span class="c1">// load will be activated be default</span>

    <span class="kd">val</span> <span class="nv">crane2</span> <span class="o">=</span> <span class="n">Crane</span><span class="p">(</span><span class="n">process</span> <span class="o">=</span> <span class="n">Crane</span><span class="o">::</span><span class="n">load</span><span class="p">)</span> <span class="c1">// force unloading at start</span>

    <span class="kd">val</span> <span class="nv">crane3</span> <span class="o">=</span> <span class="n">Crane</span><span class="p">(</span><span class="n">process</span> <span class="o">=</span> <span class="n">Crane</span><span class="o">::</span><span class="n">unload</span><span class="p">)</span> <span class="c1">// force unloading at start</span>
    <span class="n">crane3</span><span class="p">.</span><span class="na">activate</span><span class="p">(</span><span class="n">process</span> <span class="o">=</span> <span class="n">Crane</span><span class="o">::</span><span class="n">load</span><span class="p">)</span> <span class="c1">// activate other process</span>
<span class="p">}</span>
</code></pre></div>
<p>Effectively, creation and start of <code>crane1</code> and <code>crane2</code> is the same.</p>
<h2 id="lifecycle">Lifecycle</h2>
<p>A component is always in one of the following states modelled by <code>org.kalasim.ComponentState</code>:</p>
<ul>
<li><code>CURRENT</code> - The component's process is currently being executed by the <a href="../basics/#event-queue">event queue</a></li>
<li><code>SCHEDULED</code> - The component is <a href="../basics/#event-queue">scheduled</a> for future execution</li>
<li><code>PASSIVE</code> - The component is idle</li>
<li><code>REQUESTING</code> - The component is waiting for a <a href="../resource/">resource</a> requirement to be met</li>
<li><code>WAITING</code> - The component is <a href="#wait">waiting</a> for a <a href="../state/">state</a> predicate to be met</li>
<li><code>STANDBY</code> - The component was put on <a href="#standby">standby</a></li>
<li><code>INTERRUPTED</code> - The component was <a href="#interrupt">interrupted</a></li>
<li><code>DATA</code> - The component is non of the <em>active</em> states above. Components without a <code>process</code> definition are always in this state.</li>
</ul>
<p>A component's status is automatically tracked in the status level monitor <code>component.statusMonitor</code>. Thus, it possible to check how long a component has been in a particuar state with</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span> <span class="nv">passiveDuration</span> <span class="o">=</span> <span class="n">component</span><span class="p">.</span><span class="na">statusMonitor</span><span class="o">[</span><span class="n">ComponentState</span><span class="p">.</span><span class="na">PASSIVE</span><span class="o">]</span>
</code></pre></div>
<p>It is possible to print a histogram with all the statuses a component has been in with</p>
<div class="highlight"><pre><span></span><code><span class="n">component</span><span class="p">.</span><span class="na">statusMonitor</span><span class="p">.</span><span class="na">printHistogram</span><span class="p">()</span>
</code></pre></div>
<p>Accumulated times in a particular state can be obtained with <code>summed()</code> and be printed to console or displayed with the selected graphics backend</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span> <span class="nv">timeInEachState</span> <span class="o">=</span> <span class="n">component</span><span class="p">.</span><span class="na">statusMonitor</span><span class="p">.</span><span class="na">summed</span><span class="p">()</span>

<span class="n">timeInEachState</span><span class="p">.</span><span class="na">printConsole</span><span class="p">()</span>
<span class="n">timeInEachState</span><span class="p">.</span><span class="na">display</span><span class="p">()</span>
</code></pre></div>
<p><img alt="" src="../component_state_summed.png" /></p>
<h2 id="process-interaction">Process Interaction</h2>
<p>The scheme below shows how interaction relate to component state transitions:</p>
<table>
<thead>
<tr>
<th align="center">from/to</th>
<th align="center">data</th>
<th align="center">current</th>
<th align="center">scheduled</th>
<th align="center">passive</th>
<th align="center">requesting</th>
<th align="center">waiting</th>
<th align="center">standby</th>
<th align="center">interrupted</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">data</td>
<td align="center"></td>
<td align="center">activate<sup><a href="#f1">1</a></sup></td>
<td align="center">activate</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">current</td>
<td align="center">process end</td>
<td align="center"></td>
<td align="center">yield hold</td>
<td align="center">yield passivate</td>
<td align="center">yield request</td>
<td align="center">yield wait</td>
<td align="center">yield standby</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">.</td>
<td align="center">yield cancel</td>
<td align="center"></td>
<td align="center">yield activate</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">scheduled</td>
<td align="center">cancel</td>
<td align="center">next event</td>
<td align="center">hold</td>
<td align="center">passivate</td>
<td align="center">request</td>
<td align="center">wait</td>
<td align="center">standby</td>
<td align="center">interrupt</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">activate</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">passive</td>
<td align="center">cancel</td>
<td align="center">activate<sup>1</sup></td>
<td align="center">activate</td>
<td align="center"></td>
<td align="center">request</td>
<td align="center">wait</td>
<td align="center">standby</td>
<td align="center">interrupt</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">hold<sup>2</sup></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">requesting</td>
<td align="center">cancel</td>
<td align="center">claim honor</td>
<td align="center">activate<sup>3</sup></td>
<td align="center">passivate</td>
<td align="center">request</td>
<td align="center">wait</td>
<td align="center">standby</td>
<td align="center">interrupt</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center"></td>
<td align="center">time out</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">activate<sup>4</sup></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">waiting</td>
<td align="center">cancel</td>
<td align="center">wait honor</td>
<td align="center">activate<sup>5</sup></td>
<td align="center">passivate</td>
<td align="center">wait</td>
<td align="center">wait</td>
<td align="center">standby</td>
<td align="center">interrupt</td>
</tr>
<tr>
<td align="center">.</td>
<td align="center"></td>
<td align="center">timeout</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">activate<sup>6</sup></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">standby</td>
<td align="center">cancel</td>
<td align="center">next event</td>
<td align="center">activate</td>
<td align="center">passivate</td>
<td align="center">request</td>
<td align="center">wait</td>
<td align="center"></td>
<td align="center">interrupt</td>
</tr>
<tr>
<td align="center">interrupted</td>
<td align="center">cancel</td>
<td align="center"></td>
<td align="center">resume<sup>7</sup></td>
<td align="center">resume<sup>7</sup></td>
<td align="center">resume<sup>7</sup></td>
<td align="center">resume<sup>7</sup></td>
<td align="center">resume<sup>7</sup></td>
<td align="center">interrupt<sup>8</sup></td>
</tr>
<tr>
<td align="center">.</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">activate</td>
<td align="center">passivate</td>
<td align="center">request</td>
<td align="center">wait</td>
<td align="center">standby</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<!--https://stackoverflow.com/questions/25579868/how-to-add-footnotes-to-github-flavoured-markdown-->

<!-- to enable achnor link parsing in markdown navigator enable "inline html a tag" -->

<ol>
<li><a id="f1"></a> Via <code>scheduled()</code></li>
<li><a id="f2"></a> Not recommended</li>
<li><a id="f3"></a> With <code>keepRequest = false</code> (default)</li>
<li><a id="f4"></a> With <code>keepRequest = true</code>. This allows to set a new time out</li>
<li><a id="f5"></a> With <code>keepWait = false</code> (default)</li>
<li><a id="f6"></a> With <code>keepWait = true</code>. This allows to set a new timeout</li>
<li><a id="f7"></a> State at time of interrupt</li>
<li><a id="f8"></a> Increases the <code>interruptLevel</code></li>
</ol>
<h3 id="activate">activate</h3>
<p>Activate will schedule execution at the specified time. If no time is specified, execution will be scheduled for the current simulation time. If you do not specify a process, the current process will be scheduled for <em>continuation</em>. If a <code>process</code> argument is provided, the process will be <em>started</em> (or <em>restarted</em> if it is equal to the currently active process).</p>
<div class="highlight"><pre><span></span><code><span class="kd">val</span> <span class="nv">car0</span> <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="n">process</span><span class="o">=</span><span class="kc">null</span><span class="p">)</span>  <span class="c1">// data component</span>
<span class="n">car0</span><span class="p">.</span><span class="na">activate</span><span class="p">()</span>  <span class="c1">// activate @ process if exists, otherwise error</span>

<span class="kd">val</span> <span class="nv">car1</span> <span class="o">=</span> <span class="n">Car</span><span class="p">(</span><span class="n">process</span><span class="o">=</span><span class="kc">null</span><span class="p">)</span>  <span class="c1">// data component</span>
<span class="n">car1</span><span class="p">.</span><span class="na">activate</span><span class="p">(</span><span class="n">process</span><span class="o">=</span><span class="kc">null</span><span class="p">)</span> <span class="c1">//  activate @ wash</span>
</code></pre></div>
<!--* If the component to be activated is `CURRENT`, always use `yield(activate())`. The effect is that the-->
<!--  component becomes scheduled, thus this is essentially equivalent to the preferred hold method.-->
<ul>
<li>If the component to be activated is <code>DATA</code>, unless provided with <code>process</code> the default <code>Component::process</code> will be scheduled at the specified time.</li>
<li>If the component to be activated is <code>PASSIVE</code>, the component will be activated at the specified time.</li>
<li>If the component to be activated is <code>SCHEDULED</code>, the component will get a new scheduled time.</li>
<li>If the component to be activated is <code>REQUESTING</code>, the request will be
  terminated, the attribute failed set, and the component will become scheduled. If keep_request=True
  is specified, only the fail_at will be updated, and the component will stay requesting.</li>
<li>If the component to be activated is <code>WAITING</code>, the wait will be
  terminated, the attribute <code>failed</code> set, and the component will become scheduled. If <code>keepWait=true</code>
  is specified, only the <code>failAt</code> will be updated, and the component will stay waiting.</li>
<li>If the component to be activated is <code>STANDBY</code>, the component will get a new scheduled time and become
  scheduled.</li>
<li>If the component is <code>INTERRUPTED</code>, the component will be activated at the specified time.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not possible to <code>activate</code> the <code>CURRENT</code> component, and <code>kalasim</code> will throw an error in this situation. The effect of a "self"-activate would be that the component becomes scheduled, thus this is essentially equivalent to the preferred hold method, so please use <code>hold</code> instead. In rare situations processes need to be restarted. If so, use yield for activation and provide the process pointer <code>yield(activate(process = Component::process))</code> which will bypass the internal requirement that the activated component must not be <code>CURRENT</code>.</p>
</div>
<p>Although not very common, it is possible to activate a component at a certain time or with a specified delay:</p>
<div class="highlight"><pre><span></span><code><span class="n">ship1</span><span class="p">.</span><span class="na">activate</span><span class="p">(</span><span class="n">at</span><span class="o">=</span><span class="m">100</span><span class="p">)</span>
<span class="n">ship2</span><span class="p">.</span><span class="na">activate</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="m">50</span><span class="p">)</span>
</code></pre></div>
<h3 id="hold">hold</h3>
<p>Hold is the way to make a - usually <code>current</code> - component <code>scheduled</code>.</p>
<ul>
<li>If the component is <code>CURRENT</code>, it will suspend execution internally, and the component becomes scheduled for the specified time</li>
<li>If the component to be held is passive, the component becomes scheduled for the specified time.</li>
<li>If the component to be held is scheduled, the component will be rescheduled for the specified time, thus
  essentially the same as activate.</li>
<li>If the component to be held is standby, the component becomes scheduled for the specified time.</li>
<li>If the component to be activated is requesting, the request will be terminated, the attribute failed
  set and the component will become scheduled. It is recommended to use the more versatile activate method.</li>
<li>If the component to be activated is waiting, the wait will be
  terminated, the attribute failed set and the component will become scheduled. It is recommended to
  use the more versatile activate method.</li>
<li>If the component is interrupted, the component will be activated at the specified time.</li>
</ul>
<h3 id="passivate">passivate</h3>
<p>Passivate is the way to make a - usually <code>current</code> - component <code>passive</code>. This is essentially the
same as scheduling for time=inf.</p>
<!--TODO rework time=inf-->

<ul>
<li>If the component to be passivated is <code>CURRENT</code>, the component becomes passive, and it will suspend execution internally.</li>
<li>If the component to be passivated is <code>passive</code>, the component remains <code>passive</code>.</li>
<li>If the component to be passivated is <code>scheduled</code>, the component becomes <code>passive</code>.</li>
<li>If the component to be held is <code>standby</code>, the component becomes <code>passive</code>.</li>
<li>If the component to be activated is requesting, the request will be terminated, the attribute failed
  set and the component becomes passive. It is recommended to use the more versatile activate method.</li>
<li>If the component to be activated is waiting, the wait will be
  terminated, the attribute failed set and the component becomes passive. It is recommended to
  use the more versatile activate method.</li>
<li>If the component is interrupted, the component becomes passive.</li>
</ul>
<h3 id="cancel">cancel</h3>
<p>Cancel has the effect that the component becomes a data component.</p>
<ul>
<li>If the component to be cancelled is <code>CURRENT</code>, it will suspend execution internally.</li>
<li>If the component to be cancelled is <code>passive</code>, scheduled, interrupted  or standby, the component
  becomes a data component.</li>
<li>If the component to be cancelled is <code>requesting</code>, the request will be terminated, the attribute failed
  set, and the component becomes a data component.</li>
<li>If the component to be cancelled is waiting, the wait will be terminated, the attribute failed
  set and the component becomes a data component.</li>
</ul>
<p>Examples</p>
<ul>
<li><a href="../examples/bank_office/#bank-office-with-balking-and-reneging">Bank Office with Reneging</a></li>
</ul>
<h3 id="standby">standby</h3>
<p>Standby has the effect that the component will be triggered on the next simulation event.</p>
<ul>
<li>If the component is <code>CURRENT</code>, it will suspend execution internally</li>
<li>Although theoretically possible, it is not recommended to use standby for non current components. If needed to do so, the pattern to provide the correct receiver is <code>with(nonCurrent){ standby() }</code></li>
<li>Not allowed for <code>DATA</code> components or <code>main</code></li>
</ul>
<p>Examples</p>
<ul>
<li><a href="../examples/bank_office/#bank-office-with-standby">Bank Office with Standby</a></li>
</ul>
<h3 id="request">request</h3>
<p>Request has the effect that the component will check whether the requested quantity from a <a href="../resource/">resource</a> is available. It is possible to check for multiple availability of a certain quantity from several resources.</p>
<p>Instead of checking for all of number of resources, it is also possible to check for any of a number of resources, by setting the <code>oneOf</code> parameter to <code>true</code>.</p>
<p>By default, there is no limit on the time to wait for the resource(s) to become available. However, it is possible to set a time with <code>failAt</code> at which the condition has to be met. If that failed, the component becomes <code>CURRENT</code> at the given point of time. This is also known as <em>reneging</em>.</p>
<!--The code should then check whether the request had failed. That can be checked with the `Component.failed` property.-->

<p>If the component is canceled, activated, passivated, interrupted or held the <code>failed</code> flag will be set as well.</p>
<ul>
<li>If the component is <code>CURRENT</code>, it will suspend execution internally</li>
<li>Although theoretically possible it is not recommended to use request for non current components. If needed to do so, the pattern to provide the correct receiver is <code>with(nonCurrent){ request(r) }</code></li>
</ul>
<!-- TODO describe better what happens if request is rejected or fails to be fulfilled-->

<!--TBD support simmer::renege_if?-->

<p>A component can also actively renege a pending request by calling <code>release(resource)</code>. See <code>Bank3ClerksRenegingResources</code> for an example (as well as <code>Bank3ClerksReneging</code> <code>Bank3ClerksRenegingState</code> for other supported reneging modes).</p>
<h3 id="wait">wait</h3>
<p>Wait has the effect that the component will check whether the value of a state meets a given condition. It is possible to check for multiple states. By default, there is no limit on the time to wait for the condition(s) to be met. However, it is possible to set a time with <code>failAt</code> at which the condition has to be met. If that failed, the component becomes <code>CURRENT</code> at the given point of time. The code should then check whether the wait had failed. That can be checked with the <code>Component.failed</code> property.</p>
<p>If the component is <a href="#cancel">canceled</a>, <a href="#activate">activated</a>, <a href="#passivate">passivated</a>, <a href="#interrupt">interrupted</a> or <a href="#hold">held</a> the failed flag will be set as well.</p>
<ul>
<li>If the component is <code>CURRENT</code>, it will suspend execution internally</li>
<li>Although theoretically possible it is not recommended to use wait for non current components. If needed to do so, the pattern to provide the correct receiver is <code>with(nonCurrent){ wait() }</code></li>
</ul>
<p>Examples</p>
<ul>
<li><a href="../examples/gas_station/">Gas Station</a></li>
</ul>
<h3 id="interrupt">interrupt</h3>
<p>With interrupt components that are not current or data can be temporarily be interrupted. Once a resume is called for the component, the component will continue (for scheduled with the remaining time, for waiting or requesting possibly with the remaining fail_at duration).</p>
<p>Examples</p>
<ul>
<li><a href="../examples/machine_parts/">Machine Parts</a></li>
</ul>
<h2 id="usage-of-process-interaction-methods-within-a-function-or-method">Usage of process interaction methods within a function or method</h2>
<p>There is a way to put process interaction statement in another function or method.
This requires a slightly different way than just calling the method.</p>
<p>As an example, let's assume that we want a method that holds a component for a number of minutes and that the time unit is actually seconds.
So we need a method to wait 60 times the given parameter.</p>
<p>We start with a not so elegant solution:</p>
<div class="highlight"><pre><span></span><code><span class="k">object</span> <span class="p">:</span> <span class="nc">Component</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">override</span> <span class="kd">fun</span> <span class="nf">process</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="p">{</span>
        <span class="n">hold</span><span class="p">(</span><span class="m">5.0</span><span class="p">)</span>
        <span class="n">hold</span><span class="p">(</span><span class="m">5.0</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Now we just add a method <code>holdMinutes</code>. Direct calling <code>holdMinutes</code> is not possible. Instead, we have to define an extension function on <code>SequenceScope&lt;Component&gt;</code>:</p>
<div class="highlight"><pre><span></span><code><span class="k">object</span> <span class="p">:</span> <span class="nc">Component</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">override</span> <span class="kd">fun</span> <span class="nf">process</span><span class="p">()</span> <span class="o">=</span> <span class="n">sequence</span> <span class="p">{</span>
        <span class="n">holdMinutes</span><span class="p">()</span>
        <span class="n">holdMinutes</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">suspend</span> <span class="kd">fun</span> <span class="nf">SequenceScope</span><span class="o">&lt;</span><span class="n">Component</span><span class="o">&gt;</span><span class="p">.</span><span class="na">holdMinutes</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">hold</span><span class="p">(</span><span class="m">5.0</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>All process interaction statements including <code>passivate</code>, <code>request</code> and <code>wait</code> can be used that way!</p>
<p>So remember if the method contains a <code>yield</code> statement (technically speaking iss a generator method), it should be called with from an extension function.</p>
<h2 id="component-generator">Component Generator</h2>
<p>Since creation/generation of components is a very common element of most simulations, there is a dedicated utility called <code>ComponentGenerator</code> to do so</p>
<div class="highlight"><pre><span></span><code><span class="n">ComponentGenerator</span><span class="p">(</span><span class="n">iat</span> <span class="o">=</span> <span class="n">exponential</span><span class="p">(</span><span class="n">lambda</span><span class="p">,</span> <span class="n">rg</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">Customer</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>
<p>It requires 2 main parameters
1. a builder pattern
2. an inter-arrival distribution</p>
<p>See <a href="https://github.com/holgerbrandl/kalasim/blob/master/src/main/kotlin/org/kalasim/ComponentGenerator.kt#L20">here</a> for a complete listing of supported arguments.</p>
<p>Examples</p>
<ul>
<li><a href="../examples/car_wash/">Car Wash</a></li>
<li><a href="../examples/gas_station/">Gas Station</a></li>
<li><a href="../examples/atm_queue/">ATM Queue</a></li>
</ul>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../basics/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Simulation Basics" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Simulation Basics
            </div>
          </div>
        </a>
      
      
        
        <a href="../resource/" class="md-footer__link md-footer__link--next" aria-label="Next: Resources" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Resources
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 Holger Brandl
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://github.com/holgerbrandl" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://gitter.im/holgerbrandl/kalasim" target="_blank" rel="noopener" title="gitter.im" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://twitter.com/holgerbrandl" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
    
    
      
      
    
    <a href="https://linkedin.com/in/holgerbrandl/" target="_blank" rel="noopener" title="linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.instant", "navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.cefbb252.min.js"}</script>
    
    
      <script src="../assets/javascripts/bundle.17f42bbf.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.8.4/dist/mermaid.min.js"></script>
      
    
  </body>
</html>